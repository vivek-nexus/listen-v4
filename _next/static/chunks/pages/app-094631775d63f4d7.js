(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[366],{9798:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app",function(){return t(6528)}])},6528:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return _}});var i=t(4051),o=t.n(i),r=t(5893),a=t(9008),s=t(1163),l=t(1673),c=t.n(l),d=t(7002),h=t(7551),u=t(7343),p=t(5258),g=t(5146),x=t(7797),m=t(2966),f=t(2838),y=t(7294),v=t(2295),j=(t(9723),t(2305),t(309));function b(e,n,t,i,o,r,a){try{var s=e[r](a),l=s.value}catch(c){return void t(c)}s.done?n(l):Promise.resolve(l).then(i,o)}function w(e){return function(){var n=this,t=arguments;return new Promise((function(i,o){var r=e.apply(n,t);function a(e){b(r,i,o,a,s,"next",e)}function s(e){b(r,i,o,a,s,"throw",e)}a(void 0)}))}}function k(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){k(e,n,t[n])}))}return e}var C={option:function(e,n){return S({},e,{color:"white"})},singleValue:function(e,n){return S({},e,{color:"white",padding:"8px"})}},E=[],O="",T=0;function N(e,n,t){var i=window.speechSynthesis.getVoices(),o=[],r=[],a=[],s=!0,l=!1,c=void 0;try{for(var d,h=i[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var u=d.value;"Google"==u.name.substring(0,6)&&"en"==u.lang.substring(0,2)?o.push({label:"".concat(u.name," (").concat(u.lang,")"),value:"".concat(u.name," (").concat(u.lang,")")}):"en"==u.lang.substring(0,2)&&"Google"!=u.name.substring(0,6)?r.push({label:"".concat(u.name," (").concat(u.lang,")"),value:"".concat(u.name," (").concat(u.lang,")")}):a.push({label:"".concat(u.name," (").concat(u.lang,")"),value:"".concat(u.name," (").concat(u.lang,")")})}}catch(p){l=!0,c=p}finally{try{s||null==h.return||h.return()}finally{if(l)throw c}}e(o),n(r),t(a)}function B(e){var n=(0,j.split)(e);E=[];var t=!0,i=!1,o=void 0;try{for(var r,a=n[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var s=r.value;"Sentence"==s.type&&E.push(s.raw)}}catch(l){i=!0,o=l}finally{try{t||null==a.return||a.return()}finally{if(i)throw o}}}function P(){return(P=w(o().mark((function e(n,t,i,r,a){var s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(t),console.log(E),console.log("Last sentence is "+T),s=T;case 4:if(!(s<E.length)){e.next=27;break}return r(s),console.log("Sent sentence "+s+" for speaking"),e.next=9,z(n,E[s]);case 9:if("paused"!=O&&""!=O){e.next=14;break}return console.log("Paused/stopped at sentence "+s),"paused"==O&&(T=s),console.log("Breaking loop and returning"),e.abrupt("return");case 14:if("previous"!=O){e.next=19;break}return T=s-1,O="playing",console.log("Breaking loop and returning"),e.abrupt("return");case 19:if("next"!=O){e.next=24;break}return T=s+1,O="playing",console.log("Breaking loop and returning"),e.abrupt("return");case 24:s++,e.next=4;break;case 27:T=0,r(null),a(""),O="";case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,n){var t,i=window.speechSynthesis,o=i.getVoices(),r=!0,a=!1,s=void 0;try{for(var l,c=o[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var d=l.value;"".concat(d.name," (").concat(d.lang,")")==e&&(t=d)}}catch(u){a=!0,s=u}finally{try{r||null==c.return||c.return()}finally{if(a)throw s}}if("paused"==O)return new Promise((function(e){}));var h=new SpeechSynthesisUtterance(n);return h.voice=t,i.speak(h),new Promise((function(e){h.onend=e}))}function I(){window.speechSynthesis.cancel()}function _(){(0,s.useRouter)();var e=(0,y.useState)([]),n=e[0],t=e[1],i=(0,y.useState)([{value:"English",label:"English"}]),o=i[0],l=i[1],j=(0,y.useState)([{value:"KN",label:"KN"}]),b=j[0],w=j[1],k=[{label:"BEST ENGLISH VOICES",options:n},{label:"LOCAL ENGLISH VOICES",options:o},{label:"NON ENGLISH VOICES",options:b}],B=(0,y.useState)(null),z=B[0],_=B[1],R=(0,y.useState)("This is a sample text"),X=R[0],Y=R[1],L=(0,y.useState)("https://yakshag.medium.com/modern-ui-ux-backward-compatibility-24450e3c0d10"),G=L[0],A=L[1],D=(0,y.useState)(!1),F=D[0],H=D[1],M=(0,y.useState)(""),V=M[0],K=M[1],W=(0,y.useState)(null),U=W[0],q=W[1],J=(0,y.useState)(1),Z=J[0],Q=J[1];return(0,y.useEffect)((function(){N(t,l,w),localStorage.getItem("voice")?_(localStorage.getItem("voice")):_("Select"),Y("This is a sample text! You can use this tool to proof-read your articles, explore pronunciation! On desktop devices, Google voices provided by Chrome browser are the best. On Android/iOS, good voices are installed by default, but may need tweaking in device settings."),setTimeout((function(){N(t,l,w)}),100)}),[]),(0,y.useEffect)((function(){"playing"==V&&(O="playing",function(e,n,t,i,o){P.apply(this,arguments)}(z,X,U,q,K)),"paused"==V&&(O="paused",I()),"next"==V&&(I(),O="next",K("playing")),"previous"==V&&(I(),O="previous",K("playing")),""==V&&(O="",T=0,I(),q(null))}),[V]),(0,r.jsxs)("div",{className:c().container,children:[(0,r.jsxs)(a.default,{children:[(0,r.jsx)("title",{children:"Listen"}),(0,r.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,r.jsx)("link",{rel:"icon",href:"/headphones.png"}),(0,r.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,r.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:!0}),(0,r.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;700&display=swap",rel:"stylesheet"}),(0,r.jsx)("link",{href:"https://fonts.googleapis.com/icon?family=Material+Icons",rel:"stylesheet"})]}),(0,r.jsx)(d.X,{as:"h4",marginTop:"micro",marginBottom:"micro",children:"What will you listen to, today?"}),(0,r.jsxs)(h.X,{marginBottom:"huge",gutters:"none",className:c().surface,children:[(0,r.jsxs)(u.Y,{padding:"micro",desktopSpan:"15",children:[(0,r.jsx)(p.U,{id:"link-input",label:"Paste link to article",placeholder:"https://yourfavblog.com/article-12",errorText:"Looks invalid. Check?",type:"url",value:G,onChange:function(e){A(e.target.value)}}),(0,r.jsxs)(h.X,{marginBottom:"none",children:[(0,r.jsxs)(u.Y,{desktopSpan:"10",mobileSpan:"10",tabLSSpan:"10",tabPTSpan:"10",children:[!F&&(0,r.jsx)(g.z,{kind:"secondary",size:"small",marginBottom:"micro",onClick:function(){H(!0),function(e,n,t){var i;t([]),fetch("http://localhost:5000/?url=".concat(e),{method:"GET",redirect:"follow"}).then((function(e){return e.text()})).then((function(e){i=JSON.parse(e);var o=(new DOMParser).parseFromString(i.content,"text/html").querySelectorAll("h1, h2, h3, h4, h5, p, li, a"),r="",a=!0,s=!1,l=void 0;try{for(var c,d=o[Symbol.iterator]();!(a=(c=d.next()).done);a=!0)r+=c.value.textContent}catch(h){s=!0,l=h}finally{try{a||null==d.return||d.return()}finally{if(s)throw l}}t(r),n(!1)})).catch((function(e){return console.log("error",e)}))}(G,H,Y)},children:"FETCH"}),F&&(0,r.jsx)(g.z,{kind:"secondary",size:"small",marginBottom:"micro",isLoading:!0,children:"FETCH"})]}),(0,r.jsx)(u.Y,{desktopSpan:"14",mobileSpan:"14",tabLSSpan:"14",tabPTSpan:"14",children:(0,r.jsx)(x.x,{margin:"none",children:"\u2014 OR \u2014"})})]}),(0,r.jsx)(m.K,{label:"Paste article text",placeholder:"A word, a pragraph or a long article",rows:4,value:X,onChange:function(e){Y(e.target.value)},style:{color:"".concat(c().textColor),lineHeight:"2rem"}})]}),(0,r.jsxs)(u.Y,{desktopSpan:"9",padding:"micro",paddingTop:"none",children:[(0,r.jsx)(f.E,{marginTop:"micro",as:"div",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,r.jsx)(x.x,{className:c().primaryFontColor,style:{margin:"0px 0px 2px 0px"},children:"Pick a voice"})}),null!=z&&(0,r.jsx)(v.ZP,{styles:C,options:k,isSearchable:!1,isClearable:!0,onMenuOpen:function(){K("paused")},defaultValue:{label:z,value:z},onChange:function(e){!function(e,n,t){e?(t(e.label),localStorage.setItem("voice",e.label)):(t("Select"),localStorage.setItem("voice","Select"))}(e,0,_)},theme:function(e){return S({},e,{colors:S({},e.colors,{primary:"#03DAC599",primary25:"#03DAC53D",primary50:"#2E2E2E",neutral0:"#2E2E2E",neutral80:"white"})})}}),(0,r.jsxs)(f.E,{as:"div",hidden:!0,children:[(0,r.jsx)(d.X,{as:"h6",weight:"300",marginTop:"small",children:"Tips for picking voices"}),(0,r.jsx)(x.x,{children:"\ud83d\udc49 Pick a voice that matches the language of your text."}),(0,r.jsx)(x.x,{showOnlyOnDesktop:!0,children:"\ud83d\udc49 On desktops, use Google Chrome for best voices."}),(0,r.jsx)(x.x,{showOnlyOnMobile:!0,showOnlyOnTabLS:!0,showOnlyOnTabPT:!0,children:"\ud83d\udc49 On mobile devices, voices are provided by the device text to speech engine."})]}),(0,r.jsxs)(f.E,{hidden:!0,as:"div",shape:"rounded",padding:"micro",style:{marginTop:"3.8rem",backgroundColor:"".concat(c().background2Color)},children:[(0,r.jsxs)(f.E,{as:"div",style:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(d.X,{as:"h6",weight:"300",marginRight:"micro",children:"Reading now"}),(0,r.jsx)(f.E,{as:"img",src:"/speaking.gif",className:c().icon48,style:{width:"36px",alignSelf:"center"}})]}),(0,r.jsx)(f.E,{as:"div",style:{maxHeight:"6.4rem",overflow:"auto"},children:(0,r.jsx)(x.x,{id:"readingText",margin:"none",children:(0,r.jsx)("i",{children:"You are listening to this text. You are listening to this text. You are listening to this text. You are listening to this text. You are listening to this text. You are listening to this text.You are listening to this text. You are listening to this text."})})})]}),"playing"==V&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(f.E,{showOnlyOnDesktop:!0,showOnlyOnTabLS:!0,as:"div",shape:"rounded",style:{marginTop:"3rem"},children:[(0,r.jsxs)(f.E,{as:"div",style:{display:"flex",alignItems:"center",marginTop:"5rem"},children:[(0,r.jsx)(d.X,{as:"h6",weight:"300",marginRight:"micro",children:"Reading now"}),(0,r.jsx)(f.E,{as:"img",src:"/speaking.gif",className:c().icon48,style:{width:"36px",alignSelf:"center"}})]}),(0,r.jsx)(f.E,{as:"div",style:{height:"10rem",overflow:"auto"},children:(0,r.jsx)(x.x,{id:"readingText",margin:"none",children:(0,r.jsx)("i",{children:E[U]})})})]}),(0,r.jsxs)(f.E,{showOnlyOnMobile:!0,showOnlyOnTabPT:!0,as:"div",shape:"rounded",children:[(0,r.jsxs)(f.E,{as:"div",style:{display:"flex",alignItems:"center",marginTop:"2rem"},children:[(0,r.jsx)(d.X,{as:"h6",weight:"300",marginRight:"micro",children:"Reading now"}),(0,r.jsx)(f.E,{as:"img",src:"/speaking.gif",className:c().icon48,style:{width:"36px",alignSelf:"center"}})]}),(0,r.jsx)(f.E,{as:"div",style:{height:"7rem",overflow:"auto"},children:(0,r.jsx)(x.x,{id:"readingText",margin:"none",children:(0,r.jsx)("i",{children:E[U]})})})]})]})]})]}),(0,r.jsx)("div",{style:{position:"fixed",width:"100%",right:0,bottom:"2.5%"},children:(0,r.jsxs)("div",{className:c().playerStrip,style:{position:"relative"},children:[(0,r.jsx)("div",{children:(0,r.jsx)("div",{style:{width:"".concat(U/E.length*100,"%"),backgroundColor:"".concat(c().primaryColor),height:"4px"}})}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,r.jsx)("div",{children:(0,r.jsx)(g.z,{kind:"tertiary",bgColor:"transparent",size:"tiny",onClick:function(){K("previous")},children:(0,r.jsx)(x.x,{align:"center",children:(0,r.jsx)("span",{className:"material-icons ".concat(c().icon48),children:"skip_previous"})})})}),(0,r.jsx)("div",{children:(""==V||"paused"==V)&&(0,r.jsx)(g.z,{kind:"tertiary",bgColor:"transparent",size:"tiny",onClick:function(){K("playing")},children:(0,r.jsx)(x.x,{align:"center",children:(0,r.jsx)("span",{className:"material-icons ".concat(c().icon96),children:"play_arrow"})})})}),(0,r.jsx)("div",{children:("playing"==V||"next"==V||"previous"==V)&&(0,r.jsx)(g.z,{kind:"tertiary",bgColor:"transparent",size:"tiny",onClick:function(){K("paused")},children:(0,r.jsx)(x.x,{align:"center",children:(0,r.jsx)("span",{className:"material-icons ".concat(c().icon96),children:"pause"})})})}),(0,r.jsx)("div",{children:(0,r.jsx)(g.z,{kind:"tertiary",bgColor:"transparent",size:"tiny",onClick:function(){K("next")},children:(0,r.jsx)(x.x,{align:"center",children:(0,r.jsx)("span",{className:"material-icons ".concat(c().icon48),children:"skip_next"})})})})]}),(0,r.jsx)("div",{style:{position:"absolute",width:"100%",top:"65%"},children:(0,r.jsx)(g.z,{kind:"tertiary",bgColor:"transparent",size:"medium",isFullWidth:!0,onClick:function(){K("")},children:(0,r.jsx)(x.x,{align:"center",weight:"700",className:c().primaryFontColor,children:"STOP"})})})]})}),(0,r.jsxs)(f.E,{as:"div",marginBottom:"large",children:[(0,r.jsx)(d.X,{as:"h4",marginTop:"micro",marginBottom:"tiny",children:"Need help?"}),(0,r.jsxs)(f.E,{as:"div",style:{display:"flex",cursor:"pointer"},children:[(0,r.jsx)(d.X,{as:"h6",marginRight:"micro",style:{borderBottom:"".concat(1==Z?"3px solid ".concat(c().primaryColor):"")},paddingBottom:"nano",onClick:function(){Q(1)},children:"Install app"}),(0,r.jsx)(d.X,{as:"h6",marginRight:"micro",style:{borderBottom:"".concat(2==Z?"3px solid ".concat(c().primaryColor):"")},onClick:function(){Q(2)},children:"Voices"}),(0,r.jsx)(d.X,{as:"h6",marginRight:"micro",style:{borderBottom:"".concat(3==Z?"3px solid ".concat(c().primaryColor):"")},onClick:function(){Q(3)},children:"Fetch / Paste"}),(0,r.jsx)(d.X,{as:"h6",marginRight:"micro",style:{borderBottom:"".concat(4==Z?"3px solid ".concat(c().primaryColor):"")},onClick:function(){Q(4)},children:"Browser support"})]}),1==Z&&(0,r.jsxs)(f.E,{as:"div",children:[(0,r.jsx)(x.x,{weight:"700",size:"large",marginBottom:"none",children:"Mobile devices"}),(0,r.jsxs)(x.x,{marginTop:"none",marginBottom:"none",children:[(0,r.jsx)("strong",{children:"Android:"})," Browser menu > Add to Home screen"]}),(0,r.jsx)(x.x,{weight:"700",size:"large",marginBottom:"none",children:"Desktop"}),(0,r.jsx)(x.x,{marginTop:"none",children:"You can simply bookmark this page for regular use."})]}),2==Z&&(0,r.jsxs)(f.E,{as:"div",children:[(0,r.jsx)(x.x,{children:"\ud83d\udc49 Pick a voice that matches the text language."}),(0,r.jsx)(x.x,{children:"\ud83d\udc49 On desktops, use Google Chrome for best voices."}),(0,r.jsx)(x.x,{children:"\ud83d\udc49 On mobile devices, voices provided by the default text to speech engine are used."}),(0,r.jsx)(x.x,{weight:"700",size:"large",marginBottom:"none",children:"I do not see any voices in the list"}),(0,r.jsx)(x.x,{marginTop:"none",children:"Refresh the page a couple of times or try a different browser such as Google Chrome. If none of the browsers help, then your device does not support text to speech."})]}),3==Z&&(0,r.jsxs)(f.E,{as:"div",children:[(0,r.jsx)(x.x,{weight:"700",size:"large",marginBottom:"none",children:"My article is not being fetched"}),(0,r.jsx)(x.x,{marginTop:"none",children:"Extracting an article from a web page is usually not fool proof due to various factors. Recommended fix is to copy paste the article text from the source page."})]}),4==Z&&(0,r.jsxs)(f.E,{as:"div",children:[(0,r.jsx)(x.x,{weight:"700",size:"large",marginBottom:"none",children:"Which browsers are supported?"}),(0,r.jsx)(x.x,{marginTop:"none",children:"This app should work on most modern browsers, except Safari."})]})]})]})}}},function(e){e.O(0,[82,874,774,888,179],(function(){return n=9798,e(e.s=n);var n}));var n=e.O();_N_E=n}]);